<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Educatif MIKN â€” Connexion</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <div class="login-wrapper">
    <div class="login-card">

      <!-- Bouton thÃ¨me alignÃ© Ã  droite -->
      <div style="display:flex;justify-content:flex-end;margin-bottom:8px">
        <button id="themeBtn" class="btn-icon">ğŸŒ™</button>
      </div>

      <!-- Logo -->
      <div style="text-align:center;margin-bottom:28px">
        <div class="login-logo-icon" style="width:56px;height:56px;border-radius:16px;font-size:24px;font-weight:900;margin:0 auto 12px">M</div>
        <h1 style="font-size:22px;font-weight:800;margin:0">Educatif MIKN</h1>
        <p style="color:var(--text-muted);font-size:13px;margin-top:4px">Plateforme Ã©ducative intelligente</p>
      </div>

      <!-- Onglets Connexion / Inscription -->
      <div style="display:flex;border-bottom:2px solid var(--border);margin-bottom:24px">
        <button id="tabLogin" onclick="switchAuthTab('login')"
          class="auth-tab active"
          style="flex:1;padding:10px 6px;background:none;border:none;border-bottom:3px solid var(--orange);margin-bottom:-2px;font-size:14px;font-weight:700;cursor:pointer;color:var(--text-main)">
          ğŸ” Se connecter
        </button>
        <button id="tabRegister" onclick="switchAuthTab('register')"
          class="auth-tab"
          style="flex:1;padding:10px 6px;background:none;border:none;border-bottom:3px solid transparent;margin-bottom:-2px;font-size:14px;font-weight:600;cursor:pointer;color:var(--text-muted)">
          âœ¨ CrÃ©er un compte
        </button>
      </div>

      <!-- â•â•â• CONNEXION â•â•â• -->
      <div id="sectionLogin">

        <!-- RÃ´les â€” Admin retirÃ© de la page d'accueil -->
        <div class="role-tabs">
          <button data-role="teacher">ğŸ‘©â€ğŸ« Professeur</button>
          <button data-role="parent">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parent</button>
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" class="input" placeholder="ton@email.fr" autocomplete="email">
        </div>
        <div class="form-group">
          <label>Mot de passe</label>
          <input type="password" id="password" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
        </div>

        <button id="loginBtn" class="btn" style="width:100%;margin-top:4px">Connexion â†’</button>
        <button id="forgotBtn" class="btn btn-secondary" style="width:100%;margin-top:10px;font-size:13px">
          Mot de passe oubliÃ© ?
        </button>

      </div>

      <!-- â•â•â• INSCRIPTION â•â•â• -->
      <div id="sectionRegister" style="display:none">

        <div class="form-group">
          <label>Nom complet</label>
          <input type="text" id="regFullName" class="input" placeholder="PrÃ©nom Nom">
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="regEmail" class="input" placeholder="ton@email.fr" autocomplete="email">
        </div>
        <div class="form-group">
          <label>Mot de passe <span style="color:var(--text-muted);font-size:11px;font-weight:400">(min. 8 caractÃ¨res)</span></label>
          <input type="password" id="regPassword" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <div class="form-group">
          <label>Confirmer le mot de passe</label>
          <input type="password" id="regPasswordConfirm" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>

        <button id="registerBtn" class="btn" style="width:100%;margin-top:4px">
          CrÃ©er mon compte gratuit â†’
        </button>

        <p style="font-size:12px;color:var(--text-muted);text-align:center;margin-top:14px;line-height:1.7">
          ğŸ†“ Compte <strong>Free</strong> â€” 2 classes Â· 20 Ã©lÃ¨ves Â· Quiz inclus<br>
          <span style="font-size:11px">Upgrade possible depuis l'application Ã  tout moment.</span>
        </p>

      </div>

    </div>

  </div>

  <div id="toast" class="toast"><strong id="toastTitle"></strong><p id="toastMsg"></p></div>

  <script src="app.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (typeof initIndex === "function") initIndex();
    });

    function switchAuthTab(tab) {
      const isLogin = tab === "login";
      document.getElementById("sectionLogin").style.display    = isLogin ? "block" : "none";
      document.getElementById("sectionRegister").style.display = isLogin ? "none"  : "block";
      const tL = document.getElementById("tabLogin");
      const tR = document.getElementById("tabRegister");
      tL.style.borderBottomColor = isLogin ? "var(--orange)"    : "transparent";
      tL.style.color             = isLogin ? "var(--text-main)" : "var(--text-muted)";
      tL.style.fontWeight        = isLogin ? "700" : "600";
      tR.style.borderBottomColor = isLogin ? "transparent"      : "var(--orange)";
      tR.style.color             = isLogin ? "var(--text-muted)": "var(--text-main)";
      tR.style.fontWeight        = isLogin ? "600" : "700";
    }
  </script>
</body>
</html>
